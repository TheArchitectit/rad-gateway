(()=>{var e={};e.id=922,e.ids=[922],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4066:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(1556),s(1740),s(5866);var t=s(3191),a=s(8716),n=s(7922),i=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["providers",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1556)),"/mnt/ollama/git/RADAPI01/web/src/app/providers/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1740)),"/mnt/ollama/git/RADAPI01/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/mnt/ollama/git/RADAPI01/web/src/app/providers/new/page.tsx"],p="/providers/new/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/providers/new/page",pathname:"/providers/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6692:(e,r,s)=>{Promise.resolve().then(s.bind(s,3368))},3368:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>q});var t=s(326),a=s(5047),n=s(8350),i=s(5030),o=s(7577),l=s(4723),d=s(4064),c=s(770),p=s(4583),u=s(1785),m=s(2716),g=s(1216),x=s(2714),h=s(7506);let y=(0,s(5578).Z)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),b=c.Ry({name:c.Z_().min(1,"Name is required").max(100,"Name too long"),slug:c.Z_().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase letters, numbers, and hyphens"),providerType:c.Km(["openai","anthropic","gemini"],{required_error:"Provider type is required"}),baseUrl:c.Z_().url("Must be a valid URL").optional().or(c.i0("")),apiKey:c.Z_().min(1,"API key is required"),priority:c.Rx().int().min(0).max(100).default(0),weight:c.Rx().int().min(1).max(100).default(1)});function v({defaultValues:e,onSubmit:r,onCancel:s,onTestConnection:a,isLoading:n=!1,submitLabel:i="Create Provider"}){let[c,v]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),[N,P]=(0,o.useState)(null),{register:A,handleSubmit:_,watch:C,formState:{errors:q,isDirty:k}}=(0,l.cI)({resolver:(0,d.F)(b),defaultValues:{name:"",slug:"",providerType:"openai",baseUrl:"",apiKey:"",priority:0,weight:1,...e}}),I=C("providerType"),S=async()=>{if(!a)return;let e=C();w(!0),P(null);try{let r=await a(e);P(r)}catch(e){P({success:!1,message:e instanceof Error?e.message:"Connection test failed"})}finally{w(!1)}};return(0,t.jsxs)("form",{onSubmit:_(r),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(u.W,{label:"Name",error:q.name?.message,hint:"Display name for this provider",children:t.jsx("input",{type:"text",...A("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., OpenAI Production"})}),t.jsx(u.W,{label:"Slug",error:q.slug?.message,hint:"Unique identifier (auto-generated from name)",children:t.jsx("input",{type:"text",...A("slug"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., openai-production"})})]}),(0,t.jsxs)(m.m,{label:"Provider Type",error:q.providerType?.message,hint:"The AI provider service",...A("providerType"),children:[t.jsx("option",{value:"openai",children:"OpenAI"}),t.jsx("option",{value:"anthropic",children:"Anthropic"}),t.jsx("option",{value:"gemini",children:"Google Gemini"})]}),t.jsx(u.W,{label:"API Key",error:q.apiKey?.message,hint:`Your ${I} API key`,children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:c?"text":"password",...A("apiKey"),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"sk-..."}),t.jsx("button",{type:"button",onClick:()=>v(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?t.jsx(g.Z,{className:"w-4 h-4"}):t.jsx(x.Z,{className:"w-4 h-4"})})]})}),t.jsx(u.W,{label:"Base URL (Optional)",error:q.baseUrl?.message,hint:`Default: ${f(I)}`,children:t.jsx("input",{type:"url",...A("baseUrl"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:f(I)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(u.W,{label:"Priority",error:q.priority?.message,hint:"Higher priority providers are preferred (0-100)",children:t.jsx("input",{type:"number",...A("priority",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:0,max:100})}),t.jsx(u.W,{label:"Weight",error:q.weight?.message,hint:"Load balancing weight (1-100)",children:t.jsx("input",{type:"number",...A("weight",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:1,max:100})})]}),N&&(0,t.jsxs)("div",{className:`p-4 rounded-lg ${N.success?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[t.jsx("p",{className:"font-medium",children:N.success?"Connection successful":"Connection failed"}),t.jsx("p",{className:"text-sm mt-1",children:N.message}),N.latency&&(0,t.jsxs)("p",{className:"text-sm mt-1",children:["Latency: ",N.latency,"ms"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a&&t.jsx(p.z,{type:"button",variant:"secondary",onClick:S,disabled:j||!k,children:j?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(y,{className:"w-4 h-4 mr-2"}),"Test Connection"]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx(p.z,{type:"button",variant:"secondary",onClick:s,children:"Cancel"}),t.jsx(p.z,{type:"submit",disabled:n,children:n?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}),i,"..."]}):i})]})]})]})}function f(e){switch(e){case"openai":return"https://api.openai.com/v1";case"anthropic":return"https://api.anthropic.com";case"gemini":return"https://generativelanguage.googleapis.com";default:return""}}var j=s(4976),w=s(119),N=s(5740),P=s(4684);let A=async e=>N.x1.post("/v0/admin/providers",e),_=async e=>N.x1.post(`/v0/admin/providers/${e}/test`);var C=s(8342);function q(){let e=(0,a.useRouter)(),r=function(e){let r=(0,j.NL)();return(0,w.D)({mutationFn:A,onSuccess:e=>{r.invalidateQueries({queryKey:P.v2.lists()}),r.setQueryData(P.v2.detail(e.name),e)}})}(),s=(0,w.D)({mutationFn:_}),o=async s=>{try{await r.mutateAsync(s),C.c0.success("Provider created",`Successfully created provider "${s.name}"`),e.push("/providers")}catch(r){let e=r instanceof N.Hx?r.message:"Failed to create provider";C.c0.error("Creation failed",e)}},l=async e=>{try{return await s.mutateAsync(e.slug)}catch(e){throw e}};return t.jsx(n.L,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Provider"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Add a new AI provider to your gateway"})]}),t.jsx(i.Z,{children:t.jsx(v,{onSubmit:o,onCancel:()=>{e.push("/providers")},onTestConnection:l,isLoading:r.isPending,submitLabel:"Create Provider"})})]})})}},1556:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`/mnt/ollama/git/RADAPI01/web/src/app/providers/new/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[604,378,156,353,31],()=>s(4066));module.exports=t})();