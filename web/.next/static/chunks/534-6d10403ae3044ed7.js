"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{6269:function(e,t,r){r.d(t,{C:function(){return a}});var n=r(7437);function a(e){let{children:t,color:r="default",size:a="md",className:i=""}=e;return(0,n.jsx)("span",{className:"inline-flex items-center rounded-full font-medium ".concat({success:"border border-[rgba(47,122,79,0.3)] bg-[rgba(47,122,79,0.12)] text-[var(--status-normal)]",warning:"border border-[rgba(182,109,29,0.3)] bg-[rgba(182,109,29,0.12)] text-[var(--status-warning)]",error:"border border-[rgba(152,43,33,0.3)] bg-[rgba(152,43,33,0.12)] text-[var(--status-critical)]",info:"border border-[rgba(47,95,132,0.3)] bg-[rgba(47,95,132,0.12)] text-[var(--status-info)]",default:"border border-[var(--line-soft)] bg-[rgba(43,32,21,0.08)] text-[var(--ink-700)]"}[r]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm"}[a]," ").concat(i),children:t})}r(2265)},9031:function(e,t,r){r.d(t,{QueryProvider:function(){return s}});var n=r(7437),a=r(2979),i=r(9827),u=r(2265);function s(e){let{children:t}=e,[r]=(0,u.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:3e4,gcTime:3e5,retry:3,refetchOnWindowFocus:!0}}}));return(0,n.jsx)(i.aH,{client:r,children:t})}},4581:function(e,t,r){r.d(t,{q4:function(){return o.q4},n:function(){return b},Fn:function(){return h},Z0:function(){return s},ko:function(){return T.ko},qM:function(){return T.qM},HN:function(){return p},IQ:function(){return x},LD:function(){return f}}),r(9031);var n=r(5542),a=r(1713),i=r(1961);let u=async e=>{let t={page:e.page||1,pageSize:e.pageSize||50};return e.status&&(t.status=e.status),e.search&&(t.search=e.search),e.sortBy&&(t.sortBy=e.sortBy),e.sortOrder&&(t.sortOrder=e.sortOrder),i.x1.get("/v0/admin/projects",{params:t})};function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,a.a)({queryKey:n.xo.list(e),queryFn:()=>u(e),...t})}var o=r(7402),d=r(9827),c=r(1770);let l=async e=>{let t={page:e.page||1,pageSize:e.pageSize||50};return e.startTime&&(t.startTime=e.startTime),e.endTime&&(t.endTime=e.endTime),e.apiKeyName&&(t.apiKeyId=e.apiKeyName),e.provider&&(t.providerId=e.provider),e.status&&(t.status=e.status),i.x1.get("/v0/admin/usage",{params:t})},v=async e=>i.x1.post("/v0/admin/usage",e),y=async e=>{let t={};return(null==e?void 0:e.workspaceId)&&(t.workspaceId=e.workspaceId),(null==e?void 0:e.startTime)&&(t.startTime=e.startTime),(null==e?void 0:e.endTime)&&(t.endTime=e.endTime),i.x1.get("/v0/admin/usage/summary",{params:t})},m=async e=>i.x1.post("/v0/admin/usage/export",e),g=async e=>i.x1.get("/v0/admin/usage/export/".concat(e));function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,a.a)({queryKey:n.Zk.list(e),queryFn:()=>l(e),...t})}function f(e,t){return(0,a.a)({queryKey:n.Zk.summaryDetail(e||{}),queryFn:()=>y(e),...t})}function h(e,t){return(0,a.a)({queryKey:n.Zk.export(e||""),queryFn:()=>g(e),enabled:!!e,refetchInterval:e=>((null==e?void 0:e.status)==="pending"||(null==e?void 0:e.status)==="processing")&&2e3,...t})}function b(e){let t=(0,d.NL)();return(0,c.D)({mutationFn:m,onSuccess:e=>{t.setQueryData(n.Zk.export(e.exportId),e)},...e})}function x(e,t){var r,i,u;let{data:s,isLoading:o,error:d}=(i={...t,groupBy:[e],aggregations:["requestCount","totalTokens","costUsd"]},(0,a.a)({queryKey:n.Zk.aggregation(i.groupBy||[],{...i.startTime&&{startTime:i.startTime},...i.endTime&&{endTime:i.endTime},...i.providerId&&{provider:i.providerId},...i.status&&{status:i.status}}),queryFn:()=>v(i),enabled:!!(null===(u=i.groupBy)||void 0===u?void 0:u.length)}));return{data:(null==s?void 0:null===(r=s.aggregations)||void 0===r?void 0:r.reduce((t,r)=>(r.dimension===e&&(t[r.value]=r.metrics),t),{}))||{},isLoading:o,error:d}}var T=r(5847)},5847:function(e,t,r){r.d(t,{Bz:function(){return m},ez:function(){return y},ko:function(){return d},qM:function(){return c}});var n=r(1713),a=r(9827),i=r(1770),u=r(1961),s=r(5542);let o=async()=>{let e=await u.x1.get("/v0/admin/providers");return{providers:(e.data||e.providers||[]).map(e=>{var t,r;let n=e.providerType||"other",a=e.status||"healthy",i=(null===(t=e.circuitState)||void 0===t?void 0:t.state)||"closed";return{id:e.id,name:e.name,displayName:e.name,status:"active"===a?"healthy":"inactive"===a?"disabled":"degraded"===a?"degraded":"unhealthy"===a?"unhealthy":"disabled"===a?"disabled":"healthy",circuitBreaker:i,requestCount24h:0,errorRate24h:0,models:[n],..."number"==typeof(null===(r=e.health)||void 0===r?void 0:r.latencyMs)?{latencyMs:e.health.latencyMs}:{}}})}};function d(e){return(0,n.a)({queryKey:s.v2.list(),queryFn:o,refetchInterval:3e4,staleTime:15e3,...e})}function c(){let e=(0,a.NL)();return()=>{e.invalidateQueries({queryKey:s.v2.all})}}let l=async e=>u.x1.post("/v0/admin/providers",e),v=async e=>u.x1.post("/v0/admin/providers/".concat(e,"/test"));function y(e){let t=(0,a.NL)();return(0,i.D)({mutationFn:l,onSuccess:e=>{t.invalidateQueries({queryKey:s.v2.lists()}),t.setQueryData(s.v2.detail(e.name),e)},...e})}function m(e){return(0,i.D)({mutationFn:v,...e})}}}]);