(()=>{var e={};e.id=760,e.ids=[760],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7079:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(5013),s(1740),s(5866);var a=s(3191),r=s(8716),i=s(7922),n=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["oauth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5013)),"/mnt/ollama/git/RADAPI01/web/src/app/oauth/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1740)),"/mnt/ollama/git/RADAPI01/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/mnt/ollama/git/RADAPI01/web/src/app/oauth/page.tsx"],u="/oauth/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/oauth/page",pathname:"/oauth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},580:(e,t,s)=>{Promise.resolve().then(s.bind(s,27))},27:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(326),r=s(7577),i=s(8350),n=s(5030),o=s(4583);function l(){let[e,t]=(0,r.useState)("openai"),[s,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),[u,x]=(0,r.useState)(null),[p,h]=(0,r.useState)(null),[m,v]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),k=async()=>{l(!0),b(""),c(null);try{let t=await fetch("/v1/oauth/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,redirectUri:`${window.location.origin}/oauth`})});if(!t.ok)throw Error(`Request failed (${t.status})`);let s=await t.json();c(s),v(s.sessionId)}catch(e){b(e instanceof Error?e.message:"Failed to start OAuth")}finally{l(!1)}},y=async()=>{if(m.trim()){l(!0),b("");try{let e=await fetch(`/v1/oauth/session/${encodeURIComponent(m.trim())}`);if(!e.ok)throw Error(`Request failed (${e.status})`);let t=await e.json();x(t),t.session?.token?.accessToken&&f(t.session.token.accessToken)}catch(e){b(e instanceof Error?e.message:"Failed to load session")}finally{l(!1)}}},N=async()=>{if(m.trim()){l(!0),b("");try{let e=await fetch(`/v1/oauth/revoke/${encodeURIComponent(m.trim())}`,{method:"POST"});if(!e.ok)throw Error(`Request failed (${e.status})`);await y()}catch(e){b(e instanceof Error?e.message:"Failed to revoke session")}finally{l(!1)}}},S=async()=>{if(!g.trim()){h({valid:!1,error:"Access token required"});return}l(!0),b("");try{let t=await fetch("/v1/oauth/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,accessToken:g})});if(!t.ok)throw Error(`Request failed (${t.status})`);let s=await t.json();h(s)}catch(e){b(e instanceof Error?e.message:"Failed to validate token")}finally{l(!1)}};return a.jsx(i.L,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--ink-900)]",children:"OAuth Providers"}),a.jsx("p",{className:"text-[var(--ink-500)]",children:"Session lifecycle console for connected provider credentials."})]}),(0,a.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2",children:[a.jsx(n.Z,{title:"Start OAuth Session",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Provider"}),(0,a.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"ui-input",children:[a.jsx("option",{value:"openai",children:"OpenAI"}),a.jsx("option",{value:"openai-codex",children:"OpenAI Codex"}),a.jsx("option",{value:"anthropic",children:"Anthropic"}),a.jsx("option",{value:"github-copilot",children:"GitHub Copilot"}),a.jsx("option",{value:"gemini-cli",children:"Gemini CLI"})]})]}),a.jsx(o.z,{onClick:()=>void k(),disabled:s,children:s?"Starting...":"Start OAuth Flow"}),d&&(0,a.jsxs)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-sm text-[var(--ink-700)]",children:[(0,a.jsxs)("p",{children:["Session: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:d.sessionId})]}),(0,a.jsxs)("p",{children:["State: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:d.state})]}),(0,a.jsxs)("p",{children:["Status: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:d.status})]}),a.jsx("a",{href:d.authUrl,target:"_blank",rel:"noreferrer",className:"text-[var(--status-info)] underline-offset-2 hover:underline",children:"Open provider authorization URL"})]})]})}),a.jsx(n.Z,{title:"Session Inspector",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Session ID"}),a.jsx("input",{value:m,onChange:e=>v(e.target.value),placeholder:"oauth session id",className:"ui-input"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(o.z,{variant:"secondary",onClick:()=>void y(),disabled:s||!m.trim(),children:"Load Session"}),a.jsx(o.z,{variant:"danger",onClick:()=>void N(),disabled:s||!m.trim(),children:"Revoke Session"})]}),u&&(0,a.jsxs)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-sm text-[var(--ink-700)]",children:[(0,a.jsxs)("p",{children:["Provider: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:u.session.provider})]}),(0,a.jsxs)("p",{children:["Status: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:u.session.status})]}),(0,a.jsxs)("p",{children:["Updated: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:new Date(u.session.updatedAt).toLocaleString()})]})]})]})})]}),a.jsx(n.Z,{title:"Token Validation",children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("textarea",{value:g,onChange:e=>f(e.target.value),rows:4,className:"ui-input font-mono text-xs",placeholder:"Paste access token to validate"}),a.jsx(o.z,{variant:"secondary",onClick:()=>void S(),disabled:s,children:"Validate Access Token"}),p&&(0,a.jsxs)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-sm text-[var(--ink-700)]",children:[(0,a.jsxs)("p",{children:["Result:"," ",a.jsx("span",{className:`font-semibold ${p.valid?"text-[var(--status-normal)]":"text-[var(--status-critical)]"}`,children:p.valid?"Valid":"Invalid"})]}),p.error&&a.jsx("p",{className:"text-[var(--status-critical)]",children:p.error}),p.metadata&&a.jsx("pre",{className:"mt-2 overflow-auto rounded bg-[rgba(43,32,21,0.08)] p-2 text-xs text-[var(--ink-900)]",children:JSON.stringify(p.metadata,null,2)})]})]})}),j&&a.jsx(n.Z,{className:"border border-[rgba(152,43,33,0.3)] bg-[rgba(152,43,33,0.08)]",children:a.jsx("p",{className:"text-sm text-[var(--status-critical)]",children:j})})]})})}},5013:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/mnt/ollama/git/RADAPI01/web/src/app/oauth/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[433,378,56],()=>s(7079));module.exports=a})();