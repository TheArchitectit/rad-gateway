(()=>{var e={};e.id=588,e.ids=[588],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8209:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(1755),a(1740),a(5866);var s=a(3191),r=a(8716),i=a(7922),n=a.n(i),o=a(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["api-keys",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1755)),"/mnt/ollama/git/RADAPI01/web/src/app/api-keys/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1740)),"/mnt/ollama/git/RADAPI01/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/mnt/ollama/git/RADAPI01/web/src/app/api-keys/new/page.tsx"],m="/api-keys/new/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/api-keys/new/page",pathname:"/api-keys/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9393:(e,t,a)=>{Promise.resolve().then(a.bind(a,4666))},3810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(5578).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},1216:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(5578).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2714:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(5578).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4666:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(326),r=a(7577),i=a(5047),n=a(8350),o=a(5030),l=a(4723),d=a(4064),c=a(770),m=a(4583),p=a(1785),u=a(2716),g=a(7506),x=a(1216),h=a(2714);let y=(0,a(5578).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var f=a(3810);let b=c.Ry({name:c.Z_().min(1,"Name is required").max(100,"Name too long"),workspaceId:c.Z_().min(1,"Workspace is required"),expiresAt:c.Z_().optional(),rateLimit:c.Rx().int().min(1).max(1e4).optional(),allowedModels:c.IX(c.Z_()).optional(),allowedAPIs:c.IX(c.Z_()).optional(),metadata:c.IM(c._4()).optional()});function w({defaultValues:e,onSubmit:t,onCancel:a,isLoading:i=!1,submitLabel:n="Create API Key",workspaces:o=[],availableModels:c=[]}){let[x,h]=(0,r.useState)(!1),{register:y,handleSubmit:f,formState:{errors:w}}=(0,l.cI)({resolver:(0,d.F)(b),defaultValues:{name:"",workspaceId:"",allowedAPIs:[],allowedModels:[],...e}});return(0,s.jsxs)("form",{onSubmit:f(t),className:"space-y-6",children:[s.jsx(p.W,{label:"Name",error:w.name?.message,hint:"A descriptive name for this API key",required:!0,children:s.jsx("input",{type:"text",...y("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., Production App Key"})}),(0,s.jsxs)(u.m,{label:"Workspace",error:w.workspaceId?.message,hint:"The workspace this key belongs to",required:!0,...y("workspaceId"),children:[s.jsx("option",{value:"",children:"Select a workspace"}),o.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]}),s.jsx(p.W,{label:"Expiration (Optional)",error:w.expiresAt?.message,hint:"When this key will automatically expire",children:s.jsx("input",{type:"datetime-local",...y("expiresAt"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),s.jsx("div",{className:"border-t border-gray-200 pt-6",children:(0,s.jsxs)("button",{type:"button",onClick:()=>h(!x),className:"flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:[x?"Hide":"Show"," Advanced Options"]})}),x&&(0,s.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsx(p.W,{label:"Rate Limit (requests per minute)",error:w.rateLimit?.message,hint:"Maximum requests per minute (1-10000)",children:s.jsx("input",{type:"number",...y("rateLimit",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:1,max:1e4,placeholder:"60"})}),s.jsx(p.W,{label:"Allowed Models",error:w.allowedModels?.message,hint:"Restrict this key to specific models (leave empty for all)",children:s.jsx("div",{className:"space-y-2",children:c.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 bg-gray-50 px-3 py-2 rounded",children:[s.jsx("input",{type:"checkbox",value:e,...y("allowedModels"),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{className:"text-sm",children:e})]},e))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No models available"})})}),s.jsx(p.W,{label:"Allowed APIs",error:w.allowedAPIs?.message,hint:"Restrict which API endpoints this key can access",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:["chat","completions","embeddings","images","audio"].map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 bg-gray-50 px-3 py-2 rounded",children:[s.jsx("input",{type:"checkbox",value:e,...y("allowedAPIs"),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{className:"text-sm capitalize",children:e})]},e))})})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(m.z,{type:"button",variant:"secondary",onClick:a,children:"Cancel"}),s.jsx(m.z,{type:"submit",disabled:i,children:i?(0,s.jsxs)(s.Fragment,{children:[s.jsx(g.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):n})]})]})}function k({keySecret:e,keyName:t,onClose:a}){let[i,n]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1);return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"API Key Created"}),(0,s.jsxs)("p",{className:"text-gray-500 mt-1",children:['Your API key for "',t,'" has been created successfully.']})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-amber-800 text-sm font-medium",children:"This is the only time you will see the full key. Please copy it now."})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("code",{className:"text-sm font-mono text-gray-800 truncate flex-1 mr-4",children:i?e:e.slice(0,10)+"..."}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>n(!i),className:"p-2 hover:bg-gray-200 rounded",children:i?s.jsx(x.Z,{className:"w-4 h-4"}):s.jsx(h.Z,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)},className:"p-2 hover:bg-gray-200 rounded",children:o?s.jsx(y,{className:"w-4 h-4 text-green-600"}):s.jsx(f.Z,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(m.z,{onClick:a,children:"Done"})})]})})}var j=a(9474),v=a(6105),N=a(8342),S=a(5740);function A(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)(null),l=(0,j.Cu)(),d=(0,v._O)(),c=async e=>{try{let t=await l.mutateAsync(e);a({keySecret:t.keySecret,name:t.name})}catch(t){let e=t instanceof S.Hx?t.message:"Failed to create API key";N.c0.error("Creation failed",e)}},m=d.map(e=>({id:e.id,name:e.name}));return s.jsx(n.L,{children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create API Key"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Generate a new API key for accessing the gateway"})]}),s.jsx(o.Z,{children:s.jsx(w,{onSubmit:c,onCancel:()=>{e.push("/api-keys")},isLoading:l.isPending,submitLabel:"Create API Key",workspaces:m,availableModels:["gpt-4","gpt-4o","gpt-4o-mini","claude-3-opus","claude-3-sonnet","gemini-pro"]})}),t&&s.jsx(k,{keySecret:t.keySecret,keyName:t.name,onClose:()=>{a(null),e.push("/api-keys")}})]})})}},1785:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});var s=a(326);function r({label:e,children:t,error:a,hint:r,required:i}){return(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t,a?s.jsx("p",{className:"text-sm text-red-600",children:a}):r?s.jsx("p",{className:"text-sm text-gray-500",children:r}):null]})}},2716:(e,t,a)=>{"use strict";a.d(t,{m:()=>r});var s=a(326);let r=(0,a(7577).forwardRef)(({label:e,children:t,error:a,hint:r,required:i,className:n="",...o},l)=>(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("select",{ref:l,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white ${a?"border-red-300 focus:ring-red-500":""} ${n}`,...o,children:t}),a?s.jsx("p",{className:"text-sm text-red-600",children:a}):r?s.jsx("p",{className:"text-sm text-gray-500",children:r}):null]}));r.displayName="SelectField"},8342:(e,t,a)=>{"use strict";a.d(t,{c0:()=>n});var s=a(551),r=a(5251);let i=(0,s.Ue)()((0,r.tJ)((e,t)=>({sidebarCollapsed:!1,theme:"system",notifications:[],activeModal:null,globalSearchOpen:!1,isLoading:!1,toggleSidebar:()=>{e(e=>({sidebarCollapsed:!e.sidebarCollapsed}))},setSidebarCollapsed:t=>{e({sidebarCollapsed:t})},setTheme:t=>{if(e({theme:t}),"undefined"!=typeof document){let e=document.documentElement;if("system"===t){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",t)}else e.classList.toggle("dark","dark"===t)}},openModal:t=>{e({activeModal:t}),"undefined"!=typeof document&&(document.body.style.overflow="hidden")},closeModal:()=>{e({activeModal:null}),"undefined"!=typeof document&&(document.body.style.overflow="")},toggleGlobalSearch:()=>{e(e=>({globalSearchOpen:!e.globalSearchOpen}))},setGlobalSearchOpen:t=>{e({globalSearchOpen:t})},addNotification:t=>{let a={...t,id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),read:!1};e(e=>({notifications:[a,...e.notifications].slice(0,100)}))},markNotificationAsRead:t=>{e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e)}))},markAllNotificationsAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0}))}))},removeNotification:t=>{e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))},clearNotifications:()=>{e({notifications:[]})},getUnreadCount:()=>t().notifications.filter(e=>!e.read).length,setLoading:t=>{e({isLoading:t})}}),{name:"rad-ui-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme})})),n={success:(e,t,a)=>{i.getState().addNotification({type:"success",title:e,...t&&{message:t},...a&&{action:a}})},error:(e,t,a)=>{i.getState().addNotification({type:"error",title:e,...t&&{message:t},...a&&{action:a}})},warning:(e,t,a)=>{i.getState().addNotification({type:"warning",title:e,...t&&{message:t},...a&&{action:a}})},info:(e,t,a)=>{i.getState().addNotification({type:"info",title:e,...t&&{message:t},...a&&{action:a}})}}},6105:(e,t,a)=>{"use strict";a.d(t,{Q:()=>n,_O:()=>o});var s=a(551),r=a(5251),i=a(5740);let n=(0,s.Ue)()((0,r.tJ)((e,t)=>({current:null,list:[],recent:[],favorites:[],isLoading:!1,error:null,setCurrent:a=>{a&&t().addToRecent(a),e({current:a})},setWorkspaces:t=>{e({list:t})},addWorkspace:a=>{let{list:s}=t();s.find(e=>e.id===a.id)||e({list:[...s,a]})},updateWorkspace:(a,s)=>{let{list:r,current:i}=t();e({list:r.map(e=>e.id===a?{...e,...s}:e),current:i?.id===a?{...i,...s}:i})},removeWorkspace:a=>{let{list:s,current:r,favorites:i}=t();e({list:s.filter(e=>e.id!==a),current:r?.id===a?null:r,favorites:i.filter(e=>e!==a)})},addToFavorites:a=>{let{favorites:s}=t();s.includes(a)||e({favorites:[...s,a]})},removeFromFavorites:a=>{let{favorites:s}=t();e({favorites:s.filter(e=>e!==a)})},addToRecent:a=>{let{recent:s}=t(),r=s.filter(e=>e.id!==a.id);e({recent:[a,...r].slice(0,5)})},clearError:()=>{e({error:null})},setLoading:t=>{e({isLoading:t})},fetchWorkspaces:async()=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,300));let a=[{id:"ws-1",name:"Production",slug:"production",description:"Production environment workspace",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:12,settings:{theme:"dark",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}},{id:"ws-2",name:"Staging",slug:"staging",description:"Staging environment for testing",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:5,settings:{theme:"light",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}},{id:"ws-3",name:"Development",slug:"development",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:3,settings:{theme:"system",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}}];e({list:a,isLoading:!1});let{current:s}=t();!s&&a.length>0&&e({current:a[0]||null})}catch(t){throw e({isLoading:!1,error:t instanceof i.Hx?t.message:t instanceof Error?t.message:"Failed to fetch workspaces"}),t}},createWorkspace:async a=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,500));let s={id:`ws-${Date.now()}`,name:a.name||"New Workspace",slug:a.slug||`workspace-${Date.now()}`,...a.description&&{description:a.description},...a.logo&&{logo:a.logo},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:1,settings:a.settings||{theme:"system",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}};return t().addWorkspace(s),e({isLoading:!1}),s}catch(t){throw e({isLoading:!1,error:t instanceof i.Hx?t.message:t instanceof Error?t.message:"Failed to create workspace"}),t}},updateWorkspaceRemote:async(a,s)=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,300)),t().updateWorkspace(a,{...s,updatedAt:new Date().toISOString()}),e({isLoading:!1})}catch(t){throw e({isLoading:!1,error:t instanceof i.Hx?t.message:t instanceof Error?t.message:"Failed to update workspace"}),t}},deleteWorkspace:async a=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,300)),t().removeWorkspace(a),e({isLoading:!1})}catch(t){throw e({isLoading:!1,error:t instanceof i.Hx?t.message:t instanceof Error?t.message:"Failed to delete workspace"}),t}}}),{name:"rad-workspace-storage",partialize:e=>({current:e.current,recent:e.recent,favorites:e.favorites})})),o=()=>n(e=>e.list)},1755:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/mnt/ollama/git/RADAPI01/web/src/app/api-keys/new/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[433,378,463,156,56,474],()=>a(8209));module.exports=s})();