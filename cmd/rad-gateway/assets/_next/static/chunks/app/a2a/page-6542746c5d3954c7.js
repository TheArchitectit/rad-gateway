(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{516:function(e,s,a){Promise.resolve().then(a.bind(a,3120))},3120:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(7437),i=a(2265),n=a(4892),l=a(6311),r=a(3141);function c(){let[e,s]=(0,i.useState)("ui-session-control-room"),[a,c]=(0,i.useState)("Summarize provider health anomalies in one sentence."),[o,d]=(0,i.useState)("gpt-4o-mini"),[m,x]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),[k,p]=(0,i.useState)(null),[v,f]=(0,i.useState)([]),[b,j]=(0,i.useState)(""),g=e=>{f(s=>["".concat(new Date().toLocaleTimeString()," \xb7 ").concat(e),...s].slice(0,10))},N=async()=>{h(!0),j("");try{let s=await fetch("/a2a/tasks/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,message:{role:"user",content:a},metadata:JSON.stringify({model:o,api_type:"chat"})})});if(!s.ok)throw Error("Request failed (".concat(s.status,")"));let t=await s.json();p(t.task),x(t.task.id),g("Task ".concat(t.task.id," submitted and completed with status ").concat(t.task.status,"."))}catch(e){j(e instanceof Error?e.message:"Failed to send task"),g("Task submission failed.")}finally{h(!1)}},y=async()=>{if(m.trim()){h(!0),j("");try{let e=await fetch("/a2a/tasks/".concat(encodeURIComponent(m.trim())));if(!e.ok)throw Error("Request failed (".concat(e.status,")"));let s=await e.json();p(s.task),g("Task ".concat(s.task.id," polled with status ").concat(s.task.status,"."))}catch(e){j(e instanceof Error?e.message:"Failed to load task"),g("Task lookup failed.")}finally{h(!1)}}},S=async()=>{if(m.trim()){h(!0),j("");try{let e=await fetch("/a2a/tasks/".concat(encodeURIComponent(m.trim()),"/cancel"),{method:"POST"});if(!e.ok)throw Error("Request failed (".concat(e.status,")"));let s=await e.json();p(s.task),g("Cancel request accepted for task ".concat(s.task.id,"."))}catch(e){j(e instanceof Error?e.message:"Failed to cancel task"),g("Task cancel failed.")}finally{h(!1)}}};return(0,t.jsx)(n.L,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[var(--ink-900)]",children:"A2A Task Console"}),(0,t.jsx)("p",{className:"text-[var(--ink-500)]",children:"Lifecycle operations for send, query, and cancellation workflows."})]}),(0,t.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2",children:[(0,t.jsx)(l.Z,{title:"Submit Task",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Session ID"}),(0,t.jsx)("input",{value:e,onChange:e=>s(e.target.value),className:"ui-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Model"}),(0,t.jsx)("input",{value:o,onChange:e=>d(e.target.value),className:"ui-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Prompt"}),(0,t.jsx)("textarea",{value:a,onChange:e=>c(e.target.value),rows:4,className:"ui-input"})]}),(0,t.jsx)(r.z,{onClick:()=>void N(),disabled:u||!e.trim()||!a.trim(),children:u?"Submitting...":"Send Task"})]})}),(0,t.jsx)(l.Z,{title:"Task Operations",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Task ID"}),(0,t.jsx)("input",{value:m,onChange:e=>x(e.target.value),className:"ui-input"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(r.z,{variant:"secondary",onClick:()=>void y(),disabled:u||!m.trim(),children:"Get Task"}),(0,t.jsx)(r.z,{variant:"danger",onClick:()=>void S(),disabled:u||!m.trim(),children:"Cancel Task"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-sm text-[var(--ink-700)]",children:[(0,t.jsx)("p",{children:"Track status transitions: submitted → working → completed/failed."}),(0,t.jsx)("p",{className:"mt-1 text-xs text-[var(--ink-500)]",children:"Use poll + cancel to validate runtime behavior."})]})]})})]}),b&&(0,t.jsx)(l.Z,{className:"border border-[rgba(152,43,33,0.3)] bg-[rgba(152,43,33,0.08)]",children:(0,t.jsx)("p",{className:"text-sm text-[var(--status-critical)]",children:b})}),k&&(0,t.jsx)(l.Z,{title:"Task Snapshot",children:(0,t.jsxs)("div",{className:"space-y-2 text-sm text-[var(--ink-700)]",children:[(0,t.jsxs)("p",{children:["ID: ",(0,t.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:k.id})]}),(0,t.jsxs)("p",{children:["Status: ",(0,t.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:k.status})]}),(0,t.jsxs)("p",{children:["Session: ",(0,t.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:k.sessionId})]}),(0,t.jsxs)("p",{children:["Message: ",(0,t.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:k.message.content})]}),(0,t.jsx)("pre",{className:"mt-2 overflow-auto rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-xs text-[var(--ink-900)]",children:JSON.stringify(k.artifacts||[],null,2)})]})}),(0,t.jsx)(l.Z,{title:"Event Timeline",children:(0,t.jsxs)("div",{className:"space-y-2",children:[0===v.length&&(0,t.jsx)("p",{className:"text-sm text-[var(--ink-500)]",children:"No events recorded yet."}),v.map(e=>(0,t.jsx)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] px-3 py-2 text-sm text-[var(--ink-700)]",children:e},e))]})})]})})}}},function(e){e.O(0,[142,735,971,117,744],function(){return e(e.s=516)}),_N_E=e.O()}]);