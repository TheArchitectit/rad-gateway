"use strict";exports.id=474,exports.ids=[474],exports.modules={5740:(e,t,s)=>{s.d(t,{Hx:()=>l,x1:()=>i});let r=process.env.NEXT_PUBLIC_API_URL||"http://172.16.30.45:8090";class a{constructor(e){this.authToken=null,this.baseUrl=e.replace(/\/$/,"")}setAuthToken(e){this.authToken=e}getHeaders(){let e={"Content-Type":"application/json",Accept:"application/json"};return this.authToken&&(e.Authorization=`Bearer ${this.authToken}`),e}buildUrl(e,t){let s=new URL(`${this.baseUrl}${e}`);return t&&Object.entries(t).forEach(([e,t])=>{null!=t&&s.searchParams.set(e,String(t))}),s.toString()}async handleResponse(e){if(!e.ok){let t=await e.json().catch(()=>({error:{code:"unknown_error",message:"An unexpected error occurred"}}));throw new l(t.error.message,t.error.code,e.status,t.error.details,t.error.requestId)}if(204!==e.status)return e.json()}async get(e,t={}){let s=this.buildUrl(e,t.params),r=await fetch(s,{...t,method:"GET",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(r)}async post(e,t,s={}){let r=this.buildUrl(e,s.params),a=await fetch(r,{...s,method:"POST",headers:{...this.getHeaders(),...s.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async put(e,t,s={}){let r=this.buildUrl(e,s.params),a=await fetch(r,{...s,method:"PUT",headers:{...this.getHeaders(),...s.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async patch(e,t,s={}){let r=this.buildUrl(e,s.params),a=await fetch(r,{...s,method:"PATCH",headers:{...this.getHeaders(),...s.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async delete(e,t={}){let s=this.buildUrl(e,t.params),r=await fetch(s,{...t,method:"DELETE",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(r)}}class l extends Error{constructor(e,t,s,r,a){super(e),this.code=t,this.status=s,this.details=r,this.requestId=a,this.name="APIError"}isUnauthorized(){return 401===this.status}isForbidden(){return 403===this.status}isNotFound(){return 404===this.status}isValidationError(){return 400===this.status||422===this.status}}let i=new a(r)},9474:(e,t,s)=>{s.d(t,{Cu:()=>u,q4:()=>h});var r=s(108),a=s(4976),l=s(119),i=s(5740),n=s(4684);let d=async e=>{let t={page:e.page||1,pageSize:e.pageSize||50};return e.status&&(t.status=e.status),e.workspaceId&&(t.workspaceId=e.workspaceId),e.search&&(t.search=e.search),e.sortBy&&(t.sortBy=e.sortBy),e.sortOrder&&(t.sortOrder=e.sortOrder),i.x1.get("/v0/admin/apikeys",{params:t})},o=async e=>i.x1.post("/v0/admin/apikeys",e);function h(e={},t){return(0,r.a)({queryKey:n.xb.list(e),queryFn:()=>d(e),...t})}function u(e){let t=(0,a.NL)();return(0,l.D)({mutationFn:o,onSuccess:e=>{t.invalidateQueries({queryKey:n.xb.lists()});let{keySecret:s,...r}=e;t.setQueryData(n.xb.detail(e.id),r)},...e})}},4684:(e,t,s)=>{s.d(t,{Zk:()=>l,v2:()=>i,xb:()=>a,xo:()=>r});let r={all:["projects"],lists:()=>[...r.all,"list"],list:e=>[...r.lists(),e],details:()=>[...r.all,"detail"],detail:e=>[...r.details(),e],stream:()=>[...r.all,"stream"]},a={all:["apiKeys"],lists:()=>[...a.all,"list"],list:e=>[...a.lists(),e],details:()=>[...a.all,"detail"],detail:e=>[...a.details(),e],stats:()=>[...a.all,"stats"]},l={all:["usage"],lists:()=>[...l.all,"list"],list:e=>[...l.lists(),e],records:()=>[...l.all,"records"],record:e=>[...l.records(),e],trends:()=>[...l.all,"trends"],trend:e=>[...l.trends(),e],summary:()=>[...l.all,"summary"],summaryDetail:e=>[...l.summary(),e],aggregations:()=>[...l.all,"aggregations"],aggregation:(e,t)=>[...l.aggregations(),{groupBy:e,filters:t}],exports:()=>[...l.all,"exports"],export:e=>[...l.exports(),e]},i={all:["providers"],lists:()=>[...i.all,"list"],list:()=>[...i.lists()],details:()=>[...i.all,"detail"],detail:e=>[...i.details(),e],health:e=>[...i.detail(e),"health"]}}};