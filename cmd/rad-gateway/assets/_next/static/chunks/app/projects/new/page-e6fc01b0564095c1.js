(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{9069:function(e,t,r){Promise.resolve().then(r.bind(r,2207))},1961:function(e,t,r){"use strict";r.d(t,{Hx:function(){return n},x1:function(){return o}});let s=r(257).env.NEXT_PUBLIC_API_URL||"http://172.16.30.45:8090";class a{setAuthToken(e){this.authToken=e}getHeaders(){let e={"Content-Type":"application/json",Accept:"application/json"};return this.authToken&&(e.Authorization="Bearer ".concat(this.authToken)),e}buildUrl(e,t){let r=new URL("".concat(this.baseUrl).concat(e));return t&&Object.entries(t).forEach(e=>{let[t,s]=e;null!=s&&r.searchParams.set(t,String(s))}),r.toString()}async handleResponse(e){if(!e.ok){let t=await e.json().catch(()=>({error:{code:"unknown_error",message:"An unexpected error occurred"}}));throw new n(t.error.message,t.error.code,e.status,t.error.details,t.error.requestId)}if(204!==e.status)return e.json()}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.buildUrl(e,t.params),s=await fetch(r,{...t,method:"GET",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(s)}async post(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.buildUrl(e,r.params),a=await fetch(s,{...r,method:"POST",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async put(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.buildUrl(e,r.params),a=await fetch(s,{...r,method:"PUT",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async patch(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.buildUrl(e,r.params),a=await fetch(s,{...r,method:"PATCH",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.buildUrl(e,t.params),s=await fetch(r,{...t,method:"DELETE",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(s)}constructor(e){this.authToken=null,this.baseUrl=e.replace(/\/$/,"")}}class n extends Error{isUnauthorized(){return 401===this.status}isForbidden(){return 403===this.status}isNotFound(){return 404===this.status}isValidationError(){return 400===this.status||422===this.status}constructor(e,t,r,s,a){super(e),this.code=t,this.status=r,this.details=s,this.requestId=a,this.name="APIError"}}let o=new a(s)},2207:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var s=r(7437),a=r(9376),n=r(4892),o=r(6311),i=r(2265),l=r(9501),c=r(3590),d=r(7119),u=r(3141),m=r(3964),h=r(5510);let g=(0,r(8755).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var p=r(1817);let f=d.Ry({name:d.Z_().min(1,"Name is required").max(100,"Name too long"),slug:d.Z_().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase letters, numbers, and hyphens"),description:d.Z_().max(500,"Description too long").optional(),logo:d.Z_().optional(),theme:d.Km(["light","dark","system"]).default("system"),timezone:d.Z_().default("UTC"),currency:d.Km(["USD","EUR","GBP"]).default("USD"),dateFormat:d.Km(["YYYY-MM-DD","MM/DD/YYYY","DD/MM/YYYY"]).default("YYYY-MM-DD")});function x(e){var t,r,a,n,o,d,x;let{defaultValues:y,onSubmit:b,onCancel:v,isLoading:w=!1,submitLabel:j="Create Project"}=e,[D,S]=(0,i.useState)((null==y?void 0:y.logo)||null),{register:Y,handleSubmit:N,setValue:k,formState:{errors:M}}=(0,l.cI)({resolver:(0,c.F)(f),defaultValues:{name:"",slug:"",description:"",theme:"system",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD",...y}});return(0,s.jsxs)("form",{onSubmit:N(b),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(m.W,{label:"Logo",error:void 0,hint:"Optional project logo",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50 overflow-hidden",children:D?(0,s.jsx)("img",{src:D,alt:"Logo preview",className:"w-full h-full object-cover"}):(0,s.jsx)(g,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onloadend=()=>{let t=e.result;S(t),k("logo",t)},e.readAsDataURL(r)}},className:"absolute inset-0 opacity-0 cursor-pointer"})]})})}),(0,s.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,s.jsx)(m.W,{label:"Name",error:null===(t=M.name)||void 0===t?void 0:t.message,hint:"Project display name",required:!0,children:(0,s.jsx)("input",{type:"text",...Y("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., Production"})}),(0,s.jsx)(m.W,{label:"Slug",error:null===(r=M.slug)||void 0===r?void 0:r.message,hint:"Unique identifier (auto-generated)",required:!0,children:(0,s.jsx)("input",{type:"text",...Y("slug"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., production"})})]})]}),(0,s.jsx)(m.W,{label:"Description",error:null===(a=M.description)||void 0===a?void 0:a.message,hint:"Brief description of the project",children:(0,s.jsx)("textarea",{...Y("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",placeholder:"What is this project for?"})}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(h.m,{label:"Theme",error:null===(n=M.theme)||void 0===n?void 0:n.message,hint:"UI theme preference",...Y("theme"),children:[(0,s.jsx)("option",{value:"light",children:"Light"}),(0,s.jsx)("option",{value:"dark",children:"Dark"}),(0,s.jsx)("option",{value:"system",children:"System"})]}),(0,s.jsx)(m.W,{label:"Timezone",error:null===(o=M.timezone)||void 0===o?void 0:o.message,hint:"Default timezone for this project",children:(0,s.jsx)("input",{type:"text",...Y("timezone"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., America/New_York"})}),(0,s.jsxs)(h.m,{label:"Currency",error:null===(d=M.currency)||void 0===d?void 0:d.message,hint:"Currency for cost tracking",...Y("currency"),children:[(0,s.jsx)("option",{value:"USD",children:"USD ($)"}),(0,s.jsx)("option",{value:"EUR",children:"EUR (â‚¬)"}),(0,s.jsx)("option",{value:"GBP",children:"GBP (\xa3)"})]}),(0,s.jsxs)(h.m,{label:"Date Format",error:null===(x=M.dateFormat)||void 0===x?void 0:x.message,hint:"Date display format",...Y("dateFormat"),children:[(0,s.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),(0,s.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,s.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,s.jsx)(u.z,{type:"button",variant:"secondary",onClick:v,children:"Cancel"}),(0,s.jsx)(u.z,{type:"submit",disabled:w,children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):j})]})]})}var y=r(1473),b=r(1051),v=r(1961);function w(){let e=(0,a.useRouter)(),t=(0,y.Q)(e=>e.createWorkspace),r=(0,y.Q)(e=>e.isLoading),i=async r=>{try{await t({name:r.name,slug:r.slug,...r.description&&{description:r.description},...r.logo&&{logo:r.logo},settings:{theme:r.theme,timezone:r.timezone,currency:r.currency,dateFormat:r.dateFormat}}),b.c0.success("Project created",'Successfully created project "'.concat(r.name,'"')),e.push("/projects")}catch(t){let e=t instanceof v.Hx?t.message:"Failed to create project";b.c0.error("Creation failed",e)}};return(0,s.jsx)(n.L,{children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Project"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Create a new workspace for your resources"})]}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(x,{onSubmit:i,onCancel:()=>{e.push("/projects")},isLoading:r,submitLabel:"Create Project"})})]})})}},3141:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var s=r(7437);function a(e){let{variant:t="primary",size:r="md",loading:a=!1,children:n,disabled:o,className:i="",...l}=e;return(0,s.jsxs)("button",{className:"".concat("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed"," ").concat({primary:"bg-gradient-to-r from-[#c79a45] via-[#9f712a] to-[#73531e] text-[#21160f] shadow-[inset_0_1px_0_rgba(255,255,255,0.4)] hover:brightness-110 focus:ring-[#b18532] disabled:opacity-45",secondary:"border border-[var(--line-strong)] bg-[var(--surface-panel-muted)] text-[var(--ink-900)] hover:bg-[var(--surface-panel-soft)] focus:ring-[#b18532] disabled:opacity-45",danger:"bg-gradient-to-r from-[#b45c3c] to-[#7a2c20] text-[#f8e8df] hover:brightness-110 focus:ring-[#982b21] disabled:opacity-45",ghost:"bg-transparent text-[var(--ink-700)] hover:bg-[rgba(43,32,21,0.08)] focus:ring-[#7b6647] disabled:opacity-45"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(i),disabled:o||a,...l,children:[a&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})}r(2265)},3964:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var s=r(7437);function a(e){let{label:t,children:r,error:a,hint:n,required:o}=e;return(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[t,o&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),r,a?(0,s.jsx)("p",{className:"text-sm text-red-600",children:a}):n?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:n}):null]})}},5510:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var s=r(7437);let a=(0,r(2265).forwardRef)((e,t)=>{let{label:r,children:a,error:n,hint:o,required:i,className:l="",...c}=e;return(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[r,i&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsx)("select",{ref:t,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white ".concat(n?"border-red-300 focus:ring-red-500":""," ").concat(l),...c,children:a}),n?(0,s.jsx)("p",{className:"text-sm text-red-600",children:n}):o?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:o}):null]})});a.displayName="SelectField"},1051:function(e,t,r){"use strict";r.d(t,{c0:function(){return o}});var s=r(9625),a=r(6885);let n=(0,s.Ue)()((0,a.tJ)((e,t)=>({sidebarCollapsed:!1,theme:"system",notifications:[],activeModal:null,globalSearchOpen:!1,isLoading:!1,toggleSidebar:()=>{e(e=>({sidebarCollapsed:!e.sidebarCollapsed}))},setSidebarCollapsed:t=>{e({sidebarCollapsed:t})},setTheme:t=>{if(e({theme:t}),"undefined"!=typeof document){let e=document.documentElement;if("system"===t){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",t)}else e.classList.toggle("dark","dark"===t)}},openModal:t=>{e({activeModal:t}),"undefined"!=typeof document&&(document.body.style.overflow="hidden")},closeModal:()=>{e({activeModal:null}),"undefined"!=typeof document&&(document.body.style.overflow="")},toggleGlobalSearch:()=>{e(e=>({globalSearchOpen:!e.globalSearchOpen}))},setGlobalSearchOpen:t=>{e({globalSearchOpen:t})},addNotification:t=>{let r={...t,id:"notif-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date().toISOString(),read:!1};e(e=>({notifications:[r,...e.notifications].slice(0,100)}))},markNotificationAsRead:t=>{e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e)}))},markAllNotificationsAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0}))}))},removeNotification:t=>{e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))},clearNotifications:()=>{e({notifications:[]})},getUnreadCount:()=>t().notifications.filter(e=>!e.read).length,setLoading:t=>{e({isLoading:t})}}),{name:"rad-ui-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme})})),o={success:(e,t,r)=>{n.getState().addNotification({type:"success",title:e,...t&&{message:t},...r&&{action:r}})},error:(e,t,r)=>{n.getState().addNotification({type:"error",title:e,...t&&{message:t},...r&&{action:r}})},warning:(e,t,r)=>{n.getState().addNotification({type:"warning",title:e,...t&&{message:t},...r&&{action:r}})},info:(e,t,r)=>{n.getState().addNotification({type:"info",title:e,...t&&{message:t},...r&&{action:r}})}}},1473:function(e,t,r){"use strict";r.d(t,{Q:function(){return o},_O:function(){return i}});var s=r(9625),a=r(6885),n=r(1961);let o=(0,s.Ue)()((0,a.tJ)((e,t)=>({current:null,list:[],recent:[],favorites:[],isLoading:!1,error:null,setCurrent:r=>{r&&t().addToRecent(r),e({current:r})},setWorkspaces:t=>{e({list:t})},addWorkspace:r=>{let{list:s}=t();s.find(e=>e.id===r.id)||e({list:[...s,r]})},updateWorkspace:(r,s)=>{let{list:a,current:n}=t();e({list:a.map(e=>e.id===r?{...e,...s}:e),current:(null==n?void 0:n.id)===r?{...n,...s}:n})},removeWorkspace:r=>{let{list:s,current:a,favorites:n}=t();e({list:s.filter(e=>e.id!==r),current:(null==a?void 0:a.id)===r?null:a,favorites:n.filter(e=>e!==r)})},addToFavorites:r=>{let{favorites:s}=t();s.includes(r)||e({favorites:[...s,r]})},removeFromFavorites:r=>{let{favorites:s}=t();e({favorites:s.filter(e=>e!==r)})},addToRecent:r=>{let{recent:s}=t(),a=s.filter(e=>e.id!==r.id);e({recent:[r,...a].slice(0,5)})},clearError:()=>{e({error:null})},setLoading:t=>{e({isLoading:t})},fetchWorkspaces:async()=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,300));let r=[{id:"ws-1",name:"Production",slug:"production",description:"Production environment workspace",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:12,settings:{theme:"dark",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}},{id:"ws-2",name:"Staging",slug:"staging",description:"Staging environment for testing",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:5,settings:{theme:"light",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}},{id:"ws-3",name:"Development",slug:"development",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:3,settings:{theme:"system",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}}];e({list:r,isLoading:!1});let{current:s}=t();!s&&r.length>0&&e({current:r[0]||null})}catch(t){throw e({isLoading:!1,error:t instanceof n.Hx?t.message:t instanceof Error?t.message:"Failed to fetch workspaces"}),t}},createWorkspace:async r=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,500));let s={id:"ws-".concat(Date.now()),name:r.name||"New Workspace",slug:r.slug||"workspace-".concat(Date.now()),...r.description&&{description:r.description},...r.logo&&{logo:r.logo},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"user-1",memberCount:1,settings:r.settings||{theme:"system",timezone:"UTC",currency:"USD",dateFormat:"YYYY-MM-DD"}};return t().addWorkspace(s),e({isLoading:!1}),s}catch(t){throw e({isLoading:!1,error:t instanceof n.Hx?t.message:t instanceof Error?t.message:"Failed to create workspace"}),t}},updateWorkspaceRemote:async(r,s)=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,300)),t().updateWorkspace(r,{...s,updatedAt:new Date().toISOString()}),e({isLoading:!1})}catch(t){throw e({isLoading:!1,error:t instanceof n.Hx?t.message:t instanceof Error?t.message:"Failed to update workspace"}),t}},deleteWorkspace:async r=>{e({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,300)),t().removeWorkspace(r),e({isLoading:!1})}catch(t){throw e({isLoading:!1,error:t instanceof n.Hx?t.message:t instanceof Error?t.message:"Failed to delete workspace"}),t}}}),{name:"rad-workspace-storage",partialize:e=>({current:e.current,recent:e.recent,favorites:e.favorites})})),i=()=>o(e=>e.list)}},function(e){e.O(0,[142,877,261,971,117,744],function(){return e(e.s=9069)}),_N_E=e.O()}]);