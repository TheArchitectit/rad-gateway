(()=>{var e={};e.id=180,e.ids=[180],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3253:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(1907),s(1740),s(5866);var a=s(3191),i=s(8716),r=s(7922),n=s.n(r),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["a2a",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1907)),"/mnt/ollama/git/RADAPI01/web/src/app/a2a/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1740)),"/mnt/ollama/git/RADAPI01/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/mnt/ollama/git/RADAPI01/web/src/app/a2a/page.tsx"],m="/a2a/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/a2a/page",pathname:"/a2a",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},679:(e,t,s)=>{Promise.resolve().then(s.bind(s,8715))},8715:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(326),i=s(7577),r=s(8350),n=s(5030),l=s(4583);function o(){let[e,t]=(0,i.useState)("ui-session-control-room"),[s,o]=(0,i.useState)("Summarize provider health anomalies in one sentence."),[c,d]=(0,i.useState)("gpt-4o-mini"),[m,x]=(0,i.useState)(""),[p,u]=(0,i.useState)(!1),[h,k]=(0,i.useState)(null),[g,v]=(0,i.useState)([]),[b,f]=(0,i.useState)(""),j=e=>{v(t=>[`${new Date().toLocaleTimeString()} \xb7 ${e}`,...t].slice(0,10))},N=async()=>{u(!0),f("");try{let t=await fetch("/a2a/tasks/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,message:{role:"user",content:s},metadata:JSON.stringify({model:c,api_type:"chat"})})});if(!t.ok)throw Error(`Request failed (${t.status})`);let a=await t.json();k(a.task),x(a.task.id),j(`Task ${a.task.id} submitted and completed with status ${a.task.status}.`)}catch(e){f(e instanceof Error?e.message:"Failed to send task"),j("Task submission failed.")}finally{u(!1)}},y=async()=>{if(m.trim()){u(!0),f("");try{let e=await fetch(`/a2a/tasks/${encodeURIComponent(m.trim())}`);if(!e.ok)throw Error(`Request failed (${e.status})`);let t=await e.json();k(t.task),j(`Task ${t.task.id} polled with status ${t.task.status}.`)}catch(e){f(e instanceof Error?e.message:"Failed to load task"),j("Task lookup failed.")}finally{u(!1)}}},w=async()=>{if(m.trim()){u(!0),f("");try{let e=await fetch(`/a2a/tasks/${encodeURIComponent(m.trim())}/cancel`,{method:"POST"});if(!e.ok)throw Error(`Request failed (${e.status})`);let t=await e.json();k(t.task),j(`Cancel request accepted for task ${t.task.id}.`)}catch(e){f(e instanceof Error?e.message:"Failed to cancel task"),j("Task cancel failed.")}finally{u(!1)}}};return a.jsx(r.L,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--ink-900)]",children:"A2A Task Console"}),a.jsx("p",{className:"text-[var(--ink-500)]",children:"Lifecycle operations for send, query, and cancellation workflows."})]}),(0,a.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2",children:[a.jsx(n.Z,{title:"Submit Task",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Session ID"}),a.jsx("input",{value:e,onChange:e=>t(e.target.value),className:"ui-input"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Model"}),a.jsx("input",{value:c,onChange:e=>d(e.target.value),className:"ui-input"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Prompt"}),a.jsx("textarea",{value:s,onChange:e=>o(e.target.value),rows:4,className:"ui-input"})]}),a.jsx(l.z,{onClick:()=>void N(),disabled:p||!e.trim()||!s.trim(),children:p?"Submitting...":"Send Task"})]})}),a.jsx(n.Z,{title:"Task Operations",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Task ID"}),a.jsx("input",{value:m,onChange:e=>x(e.target.value),className:"ui-input"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(l.z,{variant:"secondary",onClick:()=>void y(),disabled:p||!m.trim(),children:"Get Task"}),a.jsx(l.z,{variant:"danger",onClick:()=>void w(),disabled:p||!m.trim(),children:"Cancel Task"})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-sm text-[var(--ink-700)]",children:[a.jsx("p",{children:"Track status transitions: submitted → working → completed/failed."}),a.jsx("p",{className:"mt-1 text-xs text-[var(--ink-500)]",children:"Use poll + cancel to validate runtime behavior."})]})]})})]}),b&&a.jsx(n.Z,{className:"border border-[rgba(152,43,33,0.3)] bg-[rgba(152,43,33,0.08)]",children:a.jsx("p",{className:"text-sm text-[var(--status-critical)]",children:b})}),h&&a.jsx(n.Z,{title:"Task Snapshot",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm text-[var(--ink-700)]",children:[(0,a.jsxs)("p",{children:["ID: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:h.id})]}),(0,a.jsxs)("p",{children:["Status: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:h.status})]}),(0,a.jsxs)("p",{children:["Session: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:h.sessionId})]}),(0,a.jsxs)("p",{children:["Message: ",a.jsx("span",{className:"font-semibold text-[var(--ink-900)]",children:h.message.content})]}),a.jsx("pre",{className:"mt-2 overflow-auto rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-xs text-[var(--ink-900)]",children:JSON.stringify(h.artifacts||[],null,2)})]})}),a.jsx(n.Z,{title:"Event Timeline",children:(0,a.jsxs)("div",{className:"space-y-2",children:[0===g.length&&a.jsx("p",{className:"text-sm text-[var(--ink-500)]",children:"No events recorded yet."}),g.map(e=>a.jsx("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] px-3 py-2 text-sm text-[var(--ink-700)]",children:e},e))]})})]})})}},1907:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/mnt/ollama/git/RADAPI01/web/src/app/a2a/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[433,378,56],()=>s(3253));module.exports=a})();