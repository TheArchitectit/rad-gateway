(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{34:function(e,t,r){Promise.resolve().then(r.bind(r,5901))},8755:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(2265);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},c=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...f}=e;return(0,n.createElement)("svg",{ref:t,...u,width:i,height:i,stroke:r,strokeWidth:o?24*Number(a)/Number(i):a,className:s("lucide",c),...!d&&!l(f)&&{"aria-hidden":"true"},...f},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,a)=>{let{className:u,...l}=r;return(0,n.createElement)(c,{ref:a,iconNode:t,className:s("lucide-".concat(i(o(e))),"lucide-".concat(e),u),...l})});return r.displayName=o(e),r}},1239:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8755).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},257:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u=[],l=!1,c=-1;function d(){l&&n&&(l=!1,n.length?u=n.concat(u):c=-1,u.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var s=n(229);e.exports=s}()},4369:function(e,t,r){"use strict";var n=r(2265),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,a=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),s=n[0].inst,c=n[1];return o(function(){s.value=r,s.getSnapshot=t,l(s)&&c({inst:s})},[e,r,t]),a(function(){return l(s)&&c({inst:s}),e(function(){l(s)&&c({inst:s})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},2860:function(e,t,r){"use strict";var n=r(2265),s=r(2558),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useSyncExternalStore,o=n.useRef,u=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=a(e,(d=l(function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==s&&h.hasValue){var t=h.value;if(s(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var r=n(e);return void 0!==s&&s(t,r)?(a=e,t):(a=e,o=r)}var a,o,u=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,s]))[0],d[1]);return u(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}},2558:function(e,t,r){"use strict";e.exports=r(4369)},5195:function(e,t,r){"use strict";e.exports=r(2860)},1961:function(e,t,r){"use strict";r.d(t,{Hx:function(){return i},x1:function(){return a}});let n=r(257).env.NEXT_PUBLIC_API_URL||"http://172.16.30.45:8090";class s{setAuthToken(e){this.authToken=e}getHeaders(){let e={"Content-Type":"application/json",Accept:"application/json"};return this.authToken&&(e.Authorization="Bearer ".concat(this.authToken)),e}buildUrl(e,t){let r=new URL("".concat(this.baseUrl).concat(e));return t&&Object.entries(t).forEach(e=>{let[t,n]=e;null!=n&&r.searchParams.set(t,String(n))}),r.toString()}async handleResponse(e){if(!e.ok){let t=await e.json().catch(()=>({error:{code:"unknown_error",message:"An unexpected error occurred"}}));throw new i(t.error.message,t.error.code,e.status,t.error.details,t.error.requestId)}if(204!==e.status)return e.json()}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.buildUrl(e,t.params),n=await fetch(r,{...t,method:"GET",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(n)}async post(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.buildUrl(e,r.params),s=await fetch(n,{...r,method:"POST",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(s)}async put(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.buildUrl(e,r.params),s=await fetch(n,{...r,method:"PUT",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(s)}async patch(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.buildUrl(e,r.params),s=await fetch(n,{...r,method:"PATCH",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(s)}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.buildUrl(e,t.params),n=await fetch(r,{...t,method:"DELETE",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(n)}constructor(e){this.authToken=null,this.baseUrl=e.replace(/\/$/,"")}}class i extends Error{isUnauthorized(){return 401===this.status}isForbidden(){return 403===this.status}isNotFound(){return 404===this.status}isValidationError(){return 400===this.status||422===this.status}constructor(e,t,r,n,s){super(e),this.code=t,this.status=r,this.details=n,this.requestId=s,this.name="APIError"}}let a=new s(n)},5901:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7437),s=r(9376),i=r(2265),a=r(1239);function o(e){let{children:t,title:r,subtitle:s}=e;return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,n.jsxs)("div",{className:"w-full max-w-md p-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-500 rounded-xl mb-4",children:(0,n.jsx)(a.Z,{className:"w-7 h-7 text-white"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white",children:r}),s&&(0,n.jsx)("p",{className:"mt-2 text-gray-400",children:s})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-xl p-8",children:t}),(0,n.jsx)("p",{className:"mt-8 text-center text-sm text-gray-500",children:"RAD Gateway \xa9 2026. All rights reserved."})]})})}var u=r(9625),l=r(1961);let c=(0,u.Ue)()((e,t)=>({user:null,token:null,permissions:[],isAuthenticated:!1,isLoading:!0,error:null,initialize:async()=>{e({isLoading:!0,error:null});try{if(await t().refreshToken()){let t=await l.x1.get("/v1/auth/me");e({user:t,isAuthenticated:!0,isLoading:!1})}else e({isLoading:!1})}catch(t){e({isLoading:!1})}},login:async(t,r)=>{e({isLoading:!0,error:null});try{var n;let s=await l.x1.post("/v1/auth/login",{email:t,password:r});s.access_token,l.x1.setAuthToken(s.access_token);let i=(null===(n=s.user.permissions)||void 0===n?void 0:n.map(e=>({resource:"*",actions:[e]})))||[{resource:"*",actions:["read"]}];e({user:s.user,token:s.access_token,permissions:i,isAuthenticated:!0,isLoading:!1,error:null})}catch(t){throw e({isLoading:!1,error:t instanceof l.Hx?t.message:t instanceof Error?t.message:"Login failed",isAuthenticated:!1}),t}},logout:async()=>{try{await l.x1.post("/v1/auth/logout")}catch(e){}l.x1.setAuthToken(null),e({user:null,token:null,permissions:[],isAuthenticated:!1,error:null})},refreshToken:async()=>{try{let t=await l.x1.post("/v1/auth/refresh");return t.access_token,l.x1.setAuthToken(t.access_token),e({token:t.access_token,isAuthenticated:!0}),!0}catch(t){return l.x1.setAuthToken(null),e({token:null,isAuthenticated:!1}),!1}},setToken:t=>{l.x1.setAuthToken(t),e({token:t,isAuthenticated:!!t})},updateUser:r=>{let n=t().user;n&&e({user:{...n,...r}})},clearError:()=>{e({error:null})},hasPermission:(e,r)=>{let{permissions:n,user:s}=t();return(null==s?void 0:s.role)==="admin"||n.some(t=>{if("*"===t.resource||t.resource===e)return t.actions.includes(r)||t.actions.includes("admin");if(t.resource.endsWith(":*")){let n=t.resource.slice(0,-2);if(e.startsWith(n))return t.actions.includes(r)||t.actions.includes("admin")}return!1})}})),d={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"};function h(e){let{size:t="md",className:r=""}=e;return(0,n.jsx)("div",{className:"\n        inline-block rounded-full border-current\n        border-t-transparent animate-spin\n        ".concat(d[t],"\n        ").concat(r,"\n      "),role:"status","aria-label":"Loading",children:(0,n.jsx)("span",{className:"sr-only",children:"Loading..."})})}function f(e){let{onSuccess:t}=e,{email:r,password:s,isSubmitting:a,error:o,setEmail:u,setPassword:d,submit:f}=function(){let[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),[o,u]=(0,i.useState)(null),{login:d}=function(){let e=c();return{user:e.user,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,error:e.error,login:e.login,logout:e.logout,clearError:e.clearError,hasPermission:e.hasPermission}}(),h=(0,i.useCallback)(async()=>{a(!0),u(null);try{await d(e,r)}catch(e){u(e instanceof l.Hx?e.message:"Login failed. Please try again.")}finally{a(!1)}},[e,r,d]),f=(0,i.useCallback)(()=>{t(""),n(""),u(null)},[]);return{email:e,password:r,isSubmitting:s,error:o,setEmail:t,setPassword:n,submit:h,reset:f}}(),m=async e=>{e.preventDefault();try{await f(),null==t||t()}catch(e){}};return(0,n.jsxs)("form",{onSubmit:m,className:"space-y-4 w-full max-w-md",children:[o&&(0,n.jsx)("div",{className:"p-3 rounded bg-red-50 border border-red-200 text-red-700 text-sm",children:o}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>u(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"you@example.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>d(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"********"})]}),(0,n.jsx)("button",{type:"submit",disabled:a,className:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h,{size:"sm",className:"mr-2"}),"Signing in..."]}):"Sign in"})]})}function m(){let e=(0,s.useRouter)();return(0,n.jsx)(o,{title:"Sign in to RAD Gateway",subtitle:"Enter your credentials to access the admin console",children:(0,n.jsx)(f,{onSuccess:()=>{e.push("/")}})})}},9625:function(e,t,r){"use strict";r.d(t,{Ue:function(){return h}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:n,getState:s,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(n,s,i);return i},s=e=>e?n(e):n;var i=r(2265),a=r(5195);let{useDebugValue:o}=i,{useSyncExternalStoreWithSelector:u}=a,l=!1,c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?s(e):e,r=(e,r)=>(function(e,t=c,r){r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let n=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(n),n})(t,e,r);return Object.assign(r,t),r},h=e=>e?d(e):d}},function(e){e.O(0,[971,117,744],function(){return e(e.s=34)}),_N_E=e.O()}]);