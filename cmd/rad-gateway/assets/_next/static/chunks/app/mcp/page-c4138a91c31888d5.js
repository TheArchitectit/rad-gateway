(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{4596:function(e,t,s){Promise.resolve().then(s.bind(s,1915))},1915:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var a=s(7437),n=s(2265),i=s(4892),l=s(6311),o=s(3141);function r(){let[e,t]=(0,n.useState)("echo"),[s,r]=(0,n.useState)("ui-control-room"),[c,d]=(0,n.useState)('{\n  "content": "Inspect provider health and summarize anomalies."\n}'),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(""),[v,p]=(0,n.useState)(""),[j,b]=(0,n.useState)([]),[f,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let[e,s]=await Promise.all([fetch("/mcp/v1/tools/list"),fetch("/mcp/v1/health")]);if(e.ok){let s=await e.json();b(s.tools||[]),Array.isArray(s.tools)&&s.tools.length>0&&t(e=>e||s.tools[0].name||"echo")}if(s.ok){let e=await s.json();g(e)}}catch(e){b([])}})()},[]);let k=(0,n.useMemo)(()=>{var t;return(null===(t=j.find(t=>t.name===e))||void 0===t?void 0:t.description)||""},[e,j]),N=async()=>{m(!0),p(""),h("");try{let t=c.trim()?JSON.parse(c):{},a=await fetch("/mcp/v1/tools/invoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tool:e,input:t,session:s})});if(!a.ok)throw Error("Request failed (".concat(a.status,")"));let n=await a.json();h(JSON.stringify(n,null,2))}catch(e){p(e instanceof Error?e.message:"Invocation failed")}finally{m(!1)}};return(0,a.jsx)(i.L,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-[var(--ink-900)]",children:"MCP Console"}),(0,a.jsx)("p",{className:"text-[var(--ink-500)]",children:"Tool bridge control panel with live invocation and health visibility."})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsx)(l.Z,{title:"Tool Invocation",className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Tool"}),(0,a.jsx)("select",{value:e,onChange:e=>t(e.target.value),className:"ui-input",children:(j.length>0?j:[{name:"echo",description:"Echo input"}]).map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Session"}),(0,a.jsx)("input",{value:s,onChange:e=>r(e.target.value),className:"ui-input"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1.5 block text-xs font-semibold uppercase tracking-[0.1em] text-[var(--ink-500)]",children:"Input JSON"}),(0,a.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:8,className:"ui-input font-mono text-sm"})]}),k&&(0,a.jsx)("p",{className:"text-sm text-[var(--ink-500)]",children:k}),(0,a.jsx)(o.z,{onClick:()=>void N(),disabled:u||!e,children:u?"Invoking...":"Invoke Tool"})]})}),(0,a.jsx)(l.Z,{title:"Bridge Health",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm text-[var(--ink-700)]",children:[(0,a.jsxs)("p",{children:["Status: ",(0,a.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:(null==f?void 0:f.status)||"unknown"})]}),(0,a.jsxs)("p",{children:["Service: ",(0,a.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:(null==f?void 0:f.service)||"mcp"})]}),(0,a.jsxs)("p",{children:["Executor: ",(0,a.jsx)("span",{className:"font-semibold text-[var(--ink-900)]",children:(null==f?void 0:f.executor)?"gateway-backed":"builtin only"})]}),(null==f?void 0:f.timestamp)&&(0,a.jsxs)("p",{className:"text-xs text-[var(--ink-500)]",children:["Updated ",new Date(f.timestamp).toLocaleString()]})]})})]}),v&&(0,a.jsx)(l.Z,{className:"border border-[rgba(152,43,33,0.3)] bg-[rgba(152,43,33,0.08)]",children:(0,a.jsx)("p",{className:"text-sm text-[var(--status-critical)]",children:v})}),x&&(0,a.jsx)(l.Z,{title:"Invocation Output",children:(0,a.jsx)("pre",{className:"overflow-auto rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-4 text-sm text-[var(--ink-900)]",children:x})})]})})}}},function(e){e.O(0,[142,735,971,117,744],function(){return e(e.s=4596)}),_N_E=e.O()}]);