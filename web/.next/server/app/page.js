(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27039:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),a(35480),a(21740),a(35866);var t=a(23191),l=a(88716),i=a(37922),r=a.n(i),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,35480)),"/mnt/ollama/git/RADAPI01/web/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,21740)),"/mnt/ollama/git/RADAPI01/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/mnt/ollama/git/RADAPI01/web/src/app/page.tsx"],x="/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},57841:(e,s,a)=>{Promise.resolve().then(a.bind(a,43305))},83855:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(25578).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},43305:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(10326),l=a(17577),i=a(48350),r=a(55030);function n({className:e="",width:s,height:a,circle:l=!1}){let i={};return s&&(i.width="number"==typeof s?`${s}px`:s),a&&(i.height="number"==typeof a?`${a}px`:a),t.jsx("div",{className:`
        animate-pulse bg-gray-200 dark:bg-gray-700
        ${l?"rounded-full":"rounded"}
        ${e}
      `,style:i,"aria-hidden":"true"})}function d({title:e,value:s,description:a,icon:l,change:i,isLoading:r=!1,className:d=""}){return r?(0,t.jsxs)("div",{className:`ui-panel rounded-xl p-4 ${d}`,children:[t.jsx(n,{className:"h-4 w-24 mb-2"}),t.jsx(n,{className:"h-8 w-32 mb-2"}),t.jsx(n,{className:"h-3 w-16"})]}):(0,t.jsxs)("div",{className:`ui-panel rounded-xl p-4 ${d}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-medium text-[var(--ink-500)]",children:e}),l&&t.jsx("div",{className:"text-[var(--brass-700)]",children:l})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-baseline",children:[t.jsx("span",{className:"text-2xl font-semibold text-[var(--ink-900)]",children:s}),i&&(0,t.jsxs)("span",{className:`ml-2 text-sm font-medium ${i.positive?"text-[var(--status-normal)]":"text-[var(--status-critical)]"}`,children:[i.positive?"+":"",i.value,"%"]})]}),a&&t.jsx("p",{className:"mt-1 text-sm text-[var(--ink-500)]",children:a})]})}var c=a(14583),o=a(56273),x=a(35047),m=a(83855),h=a(93892),p=a(66697),u=a(76828),g=a(25578);let v=(0,g.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),j=(0,g.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),b=(0,g.Z)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);var f=a(5874);function y(){let e=(0,x.useRouter)(),s=(0,l.useMemo)(()=>({startTime:new Date(Date.now()-864e5).toISOString(),endTime:new Date().toISOString()}),[]),{data:a,isLoading:n}=(0,f.ko)(),{data:g,isLoading:y}=(0,f.q4)({page:1,pageSize:200}),{data:N,isLoading:w}=(0,f.Z0)({page:1,pageSize:200}),{data:k,isLoading:P}=(0,f.LD)(s),{data:A,isLoading:L}=(0,f.HN)({...s,page:1,pageSize:6}),M=a?.providers||[],_=g?.data||[],Z=N?.data||[],$=A?.data||[],q=M.filter(e=>"disabled"!==e.status).length,I=M.filter(e=>"healthy"===e.status).length,S=_.filter(e=>"active"===e.status).length,C=M.filter(e=>"unhealthy"===e.status).length,D=n||y||w||P;return t.jsx(i.L,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-[var(--ink-900)]",children:"Operations Dashboard"}),t.jsx("p",{className:"text-[var(--ink-500)]",children:"Live command view for providers, usage flow, and reliability posture."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(c.z,{onClick:()=>e.push("/api-keys/new"),children:[t.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"New API Key"]}),(0,t.jsxs)(c.z,{variant:"secondary",onClick:()=>e.push("/providers/new"),children:[t.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Add Provider"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(d,{title:"Active Providers",value:q,icon:t.jsx(h.Z,{className:"w-5 h-5"}),isLoading:D,...M.length>0?{change:{value:Math.round(I/M.length*100),positive:I===M.length}}:{},description:"Healthy capacity over configured endpoints"}),t.jsx(d,{title:"API Calls (24h)",value:(k?.totalRequests||0).toLocaleString(),icon:t.jsx(p.Z,{className:"w-5 h-5"}),isLoading:P,description:"From usage summary window"}),t.jsx(d,{title:"Active API Keys",value:S,icon:t.jsx(u.Z,{className:"w-5 h-5"}),isLoading:y,description:`${_.length} total keys across workspaces`}),t.jsx(d,{title:"Cost (24h)",value:`$${(k?.totalCostUsd||0).toFixed(2)}`,icon:t.jsx(v,{className:"w-5 h-5"}),isLoading:P,description:"Aggregated spend in current range"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(r.Z,{title:"System Health",header:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-[var(--ink-900)]",children:"System Health"}),C>0?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-[rgba(152,43,33,0.35)] bg-[rgba(152,43,33,0.15)] px-2 py-0.5 text-xs font-semibold text-[var(--status-critical)]",children:[t.jsx(j,{className:"h-3.5 w-3.5"}),C," Incident",1===C?"":"s"]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-[rgba(47,122,79,0.35)] bg-[rgba(47,122,79,0.15)] px-2 py-0.5 text-xs font-semibold text-[var(--status-normal)]",children:[t.jsx(b,{className:"h-3.5 w-3.5"}),"Stable"]})]}),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-[var(--ink-700)]",children:"Gateway Runtime"}),t.jsx(o.O,{status:C>0?"degraded":"healthy"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-[var(--ink-700)]",children:"Workspace Inventory"}),t.jsx("span",{className:"text-sm font-semibold text-[var(--ink-900)]",children:w?"...":`${Z.length} active projects`})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-[var(--ink-700)]",children:"Provider Reliability"}),t.jsx("span",{className:"text-sm font-semibold text-[var(--ink-900)]",children:0===M.length?"No providers":`${I}/${M.length} healthy`})]}),t.jsx("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3 text-xs text-[var(--ink-500)]",children:"Health model follows Foglight-style severity discipline: healthy, degraded, unhealthy, disabled."})]})}),t.jsx(r.Z,{title:"Recent Activity",children:(0,t.jsxs)("div",{className:"space-y-3",children:[L&&t.jsx("p",{className:"text-sm text-[var(--ink-500)]",children:"Loading recent usage events..."}),!L&&0===$.length&&t.jsx("p",{className:"text-sm text-[var(--ink-500)]",children:"No recent usage records yet."}),$.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-[var(--brass-500)]"}),(0,t.jsxs)("span",{className:"flex-1 text-[var(--ink-700)]",children:[e.incomingApi.toUpperCase()," request on ",e.incomingModel]}),(0,t.jsxs)("span",{className:"text-[var(--ink-500)]",children:[e.durationMs,"ms"]})]},e.id))]})})]}),t.jsx(r.Z,{title:"Provider Fleet",children:(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[0===M.length&&t.jsx("p",{className:"text-sm text-[var(--ink-500)]",children:"No providers registered."}),M.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--line-soft)] bg-[rgba(43,32,21,0.06)] p-3",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between gap-3",children:[t.jsx("p",{className:"font-semibold text-[var(--ink-900)]",children:e.displayName||e.name}),t.jsx(o.O,{status:e.status})]}),(0,t.jsxs)("p",{className:"text-xs text-[var(--ink-500)]",children:["Circuit: ",e.circuitBreaker," \xb7 Latency: ",e.latencyMs?`${e.latencyMs}ms`:"n/a"]})]},e.id))]})})]})})}},56273:(e,s,a)=>{"use strict";a.d(s,{O:()=>r});var t=a(10326);a(17577);var l=a(65043);let i={healthy:{color:"success",label:"Healthy"},degraded:{color:"warning",label:"Degraded"},unhealthy:{color:"error",label:"Unhealthy"},disabled:{color:"default",label:"Disabled"},pending:{color:"info",label:"Pending"},active:{color:"success",label:"Active"},inactive:{color:"default",label:"Inactive"},closed:{color:"success",label:"Closed"},open:{color:"error",label:"Open"},"half-open":{color:"warning",label:"Half-Open"}};function r({status:e,showPulse:s=!1}){let a=i[e];return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s&&"healthy"===e&&(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-[rgba(47,122,79,0.55)] opacity-75"}),t.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-[var(--status-normal)]"})]}),t.jsx(l.C,{color:a.color,children:a.label})]})}},35480:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/mnt/ollama/git/RADAPI01/web/src/app/page.tsx#default`)}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[433,378,463,56,474,422],()=>a(27039));module.exports=t})();