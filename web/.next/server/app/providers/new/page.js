(()=>{var e={};e.id=922,e.ids=[922],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94066:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(51556),r(21740),r(35866);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["providers",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,51556)),"/mnt/ollama/git/RADAPI01/web/src/app/providers/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21740)),"/mnt/ollama/git/RADAPI01/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/mnt/ollama/git/RADAPI01/web/src/app/providers/new/page.tsx"],u="/providers/new/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/providers/new/page",pathname:"/providers/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26692:(e,t,r)=>{Promise.resolve().then(r.bind(r,44163))},91216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(25578).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(25578).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},65740:(e,t,r)=>{"use strict";r.d(t,{Hx:()=>i,x1:()=>n});let s=process.env.NEXT_PUBLIC_API_URL||"http://172.16.30.45:8090";class a{constructor(e){this.authToken=null,this.baseUrl=e.replace(/\/$/,"")}setAuthToken(e){this.authToken=e}getHeaders(){let e={"Content-Type":"application/json",Accept:"application/json"};return this.authToken&&(e.Authorization=`Bearer ${this.authToken}`),e}buildUrl(e,t){let r=new URL(`${this.baseUrl}${e}`);return t&&Object.entries(t).forEach(([e,t])=>{null!=t&&r.searchParams.set(e,String(t))}),r.toString()}async handleResponse(e){if(!e.ok){let t=await e.json().catch(()=>({error:{code:"unknown_error",message:"An unexpected error occurred"}}));throw new i(t.error.message,t.error.code,e.status,t.error.details,t.error.requestId)}if(204!==e.status)return e.json()}async get(e,t={}){let r=this.buildUrl(e,t.params),s=await fetch(r,{...t,method:"GET",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(s)}async post(e,t,r={}){let s=this.buildUrl(e,r.params),a=await fetch(s,{...r,method:"POST",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async put(e,t,r={}){let s=this.buildUrl(e,r.params),a=await fetch(s,{...r,method:"PUT",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async patch(e,t,r={}){let s=this.buildUrl(e,r.params),a=await fetch(s,{...r,method:"PATCH",headers:{...this.getHeaders(),...r.headers},body:t?JSON.stringify(t):null});return this.handleResponse(a)}async delete(e,t={}){let r=this.buildUrl(e,t.params),s=await fetch(r,{...t,method:"DELETE",headers:{...this.getHeaders(),...t.headers}});return this.handleResponse(s)}}class i extends Error{constructor(e,t,r,s,a){super(e),this.code=t,this.status=r,this.details=s,this.requestId=a,this.name="APIError"}isUnauthorized(){return 401===this.status}isForbidden(){return 403===this.status}isNotFound(){return 404===this.status}isValidationError(){return 400===this.status||422===this.status}}let n=new a(s)},44163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(10326),a=r(35047),i=r(48350),n=r(55030),l=r(17577),o=r(74723),d=r(74064),c=r(770),u=r(14583),p=r(31785),h=r(32716),m=r(91216),g=r(12714),y=r(77506);let x=(0,r(25578).Z)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),f=c.Ry({name:c.Z_().min(1,"Name is required").max(100,"Name too long"),slug:c.Z_().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase letters, numbers, and hyphens"),providerType:c.Km(["openai","anthropic","gemini"],{required_error:"Provider type is required"}),baseUrl:c.Z_().url("Must be a valid URL").optional().or(c.i0("")),apiKey:c.Z_().min(1,"API key is required"),priority:c.Rx().int().min(0).max(100).default(0),weight:c.Rx().int().min(1).max(100).default(1)});function b({defaultValues:e,onSubmit:t,onCancel:r,onTestConnection:a,isLoading:i=!1,submitLabel:n="Create Provider"}){let[c,b]=(0,l.useState)(!1),[j,w]=(0,l.useState)(!1),[N,P]=(0,l.useState)(null),{register:k,handleSubmit:A,watch:S,formState:{errors:C,isDirty:T}}=(0,o.cI)({resolver:(0,d.F)(f),defaultValues:{name:"",slug:"",providerType:"openai",baseUrl:"",apiKey:"",priority:0,weight:1,...e}}),_=S("providerType"),R=async()=>{if(!a)return;let e=S();w(!0),P(null);try{let t=await a(e);P(t)}catch(e){P({success:!1,message:e instanceof Error?e.message:"Connection test failed"})}finally{w(!1)}};return(0,s.jsxs)("form",{onSubmit:A(t),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(p.W,{label:"Name",error:C.name?.message,hint:"Display name for this provider",children:s.jsx("input",{type:"text",...k("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., OpenAI Production"})}),s.jsx(p.W,{label:"Slug",error:C.slug?.message,hint:"Unique identifier (auto-generated from name)",children:s.jsx("input",{type:"text",...k("slug"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., openai-production"})})]}),(0,s.jsxs)(h.m,{label:"Provider Type",error:C.providerType?.message,hint:"The AI provider service",...k("providerType"),children:[s.jsx("option",{value:"openai",children:"OpenAI"}),s.jsx("option",{value:"anthropic",children:"Anthropic"}),s.jsx("option",{value:"gemini",children:"Google Gemini"})]}),s.jsx(p.W,{label:"API Key",error:C.apiKey?.message,hint:`Your ${_} API key`,children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",...k("apiKey"),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"sk-..."}),s.jsx("button",{type:"button",onClick:()=>b(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?s.jsx(m.Z,{className:"w-4 h-4"}):s.jsx(g.Z,{className:"w-4 h-4"})})]})}),s.jsx(p.W,{label:"Base URL (Optional)",error:C.baseUrl?.message,hint:`Default: ${v(_)}`,children:s.jsx("input",{type:"url",...k("baseUrl"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:v(_)})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(p.W,{label:"Priority",error:C.priority?.message,hint:"Higher priority providers are preferred (0-100)",children:s.jsx("input",{type:"number",...k("priority",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:0,max:100})}),s.jsx(p.W,{label:"Weight",error:C.weight?.message,hint:"Load balancing weight (1-100)",children:s.jsx("input",{type:"number",...k("weight",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:1,max:100})})]}),N&&(0,s.jsxs)("div",{className:`p-4 rounded-lg ${N.success?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.jsx("p",{className:"font-medium",children:N.success?"Connection successful":"Connection failed"}),s.jsx("p",{className:"text-sm mt-1",children:N.message}),N.latency&&(0,s.jsxs)("p",{className:"text-sm mt-1",children:["Latency: ",N.latency,"ms"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a&&s.jsx(u.z,{type:"button",variant:"secondary",onClick:R,disabled:j||!T,children:j?(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(x,{className:"w-4 h-4 mr-2"}),"Test Connection"]})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx(u.z,{type:"button",variant:"secondary",onClick:r,children:"Cancel"}),s.jsx(u.z,{type:"submit",disabled:i,children:i?(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.Z,{className:"w-4 h-4 mr-2 animate-spin"}),n,"..."]}):n})]})]})]})}function v(e){switch(e){case"openai":return"https://api.openai.com/v1";case"anthropic":return"https://api.anthropic.com";case"gemini":return"https://generativelanguage.googleapis.com";default:return""}}var j=r(69979),w=r(48342),N=r(65740);function P(){let e=(0,a.useRouter)(),t=(0,j.ez)(),r=(0,j.Bz)(),l=async r=>{try{await t.mutateAsync(r),w.c0.success("Provider created",`Successfully created provider "${r.name}"`),e.push("/providers")}catch(t){let e=t instanceof N.Hx?t.message:"Failed to create provider";w.c0.error("Creation failed",e)}},o=async e=>{try{return await r.mutateAsync(e.slug)}catch(e){throw e}};return s.jsx(i.L,{children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Provider"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Add a new AI provider to your gateway"})]}),s.jsx(n.Z,{children:s.jsx(b,{onSubmit:l,onCancel:()=>{e.push("/providers")},onTestConnection:o,isLoading:t.isPending,submitLabel:"Create Provider"})})]})})}},31785:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var s=r(10326);function a({label:e,children:t,error:r,hint:a,required:i}){return(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t,r?s.jsx("p",{className:"text-sm text-red-600",children:r}):a?s.jsx("p",{className:"text-sm text-gray-500",children:a}):null]})}},32716:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var s=r(10326);let a=(0,r(17577).forwardRef)(({label:e,children:t,error:r,hint:a,required:i,className:n="",...l},o)=>(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("select",{ref:o,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white ${r?"border-red-300 focus:ring-red-500":""} ${n}`,...l,children:t}),r?s.jsx("p",{className:"text-sm text-red-600",children:r}):a?s.jsx("p",{className:"text-sm text-gray-500",children:a}):null]}));a.displayName="SelectField"},74684:(e,t,r)=>{"use strict";r.d(t,{Zk:()=>i,v2:()=>n,xb:()=>a,xo:()=>s});let s={all:["projects"],lists:()=>[...s.all,"list"],list:e=>[...s.lists(),e],details:()=>[...s.all,"detail"],detail:e=>[...s.details(),e],stream:()=>[...s.all,"stream"]},a={all:["apiKeys"],lists:()=>[...a.all,"list"],list:e=>[...a.lists(),e],details:()=>[...a.all,"detail"],detail:e=>[...a.details(),e],stats:()=>[...a.all,"stats"]},i={all:["usage"],lists:()=>[...i.all,"list"],list:e=>[...i.lists(),e],records:()=>[...i.all,"records"],record:e=>[...i.records(),e],trends:()=>[...i.all,"trends"],trend:e=>[...i.trends(),e],summary:()=>[...i.all,"summary"],summaryDetail:e=>[...i.summary(),e],aggregations:()=>[...i.all,"aggregations"],aggregation:(e,t)=>[...i.aggregations(),{groupBy:e,filters:t}],exports:()=>[...i.all,"exports"],export:e=>[...i.exports(),e]},n={all:["providers"],lists:()=>[...n.all,"list"],list:()=>[...n.lists()],details:()=>[...n.all,"detail"],detail:e=>[...n.details(),e],health:e=>[...n.detail(e),"health"]}},69979:(e,t,r)=>{"use strict";r.d(t,{Bz:()=>m,ez:()=>h,ko:()=>d,qM:()=>c});var s=r(20108),a=r(44976),i=r(10119),n=r(65740),l=r(74684);let o=async()=>{let e=await n.x1.get("/v0/admin/providers");return{providers:(e.data||e.providers||[]).map(e=>{let t=e.providerType||"other",r=e.status||"healthy",s=e.circuitState?.state||"closed";return{id:e.id,name:e.name,displayName:e.name,status:"active"===r?"healthy":"inactive"===r?"disabled":"degraded"===r?"degraded":"unhealthy"===r?"unhealthy":"disabled"===r?"disabled":"healthy",circuitBreaker:s,requestCount24h:0,errorRate24h:0,models:[t],..."number"==typeof e.health?.latencyMs?{latencyMs:e.health.latencyMs}:{}}})}};function d(e){return(0,s.a)({queryKey:l.v2.list(),queryFn:o,refetchInterval:3e4,staleTime:15e3,...e})}function c(){let e=(0,a.NL)();return()=>{e.invalidateQueries({queryKey:l.v2.all})}}let u=async e=>n.x1.post("/v0/admin/providers",e),p=async e=>n.x1.post(`/v0/admin/providers/${e}/test`);function h(e){let t=(0,a.NL)();return(0,i.D)({mutationFn:u,onSuccess:e=>{t.invalidateQueries({queryKey:l.v2.lists()}),t.setQueryData(l.v2.detail(e.name),e)},...e})}function m(e){return(0,i.D)({mutationFn:p,...e})}},48342:(e,t,r)=>{"use strict";r.d(t,{c0:()=>n});var s=r(60114),a=r(85251);let i=(0,s.Ue)()((0,a.tJ)((e,t)=>({sidebarCollapsed:!1,theme:"system",notifications:[],activeModal:null,globalSearchOpen:!1,isLoading:!1,toggleSidebar:()=>{e(e=>({sidebarCollapsed:!e.sidebarCollapsed}))},setSidebarCollapsed:t=>{e({sidebarCollapsed:t})},setTheme:t=>{if(e({theme:t}),"undefined"!=typeof document){let e=document.documentElement;if("system"===t){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",t)}else e.classList.toggle("dark","dark"===t)}},openModal:t=>{e({activeModal:t}),"undefined"!=typeof document&&(document.body.style.overflow="hidden")},closeModal:()=>{e({activeModal:null}),"undefined"!=typeof document&&(document.body.style.overflow="")},toggleGlobalSearch:()=>{e(e=>({globalSearchOpen:!e.globalSearchOpen}))},setGlobalSearchOpen:t=>{e({globalSearchOpen:t})},addNotification:t=>{let r={...t,id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),read:!1};e(e=>({notifications:[r,...e.notifications].slice(0,100)}))},markNotificationAsRead:t=>{e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e)}))},markAllNotificationsAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0}))}))},removeNotification:t=>{e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))},clearNotifications:()=>{e({notifications:[]})},getUnreadCount:()=>t().notifications.filter(e=>!e.read).length,setLoading:t=>{e({isLoading:t})}}),{name:"rad-ui-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme})})),n={success:(e,t,r)=>{i.getState().addNotification({type:"success",title:e,...t&&{message:t},...r&&{action:r}})},error:(e,t,r)=>{i.getState().addNotification({type:"error",title:e,...t&&{message:t},...r&&{action:r}})},warning:(e,t,r)=>{i.getState().addNotification({type:"warning",title:e,...t&&{message:t},...r&&{action:r}})},info:(e,t,r)=>{i.getState().addNotification({type:"info",title:e,...t&&{message:t},...r&&{action:r}})}}},51556:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/mnt/ollama/git/RADAPI01/web/src/app/providers/new/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[433,378,463,156,56],()=>r(94066));module.exports=s})();